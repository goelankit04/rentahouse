{"version":3,"sources":["./src/app/user/user-wallet/user-wallet-routing.module.ts","./src/app/user/user-wallet/user-wallet.module.ts","./src/app/user/user-wallet/wallet.service.ts","./src/app/user/user-wallet/wallet/wallet.component.ts","./src/app/user/user-wallet/wallet/wallet.component.html"],"names":[],"mappings":"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","file":"default~dashboard-dashboard-module~profile-profile-module~user-wallet-user-wallet-module.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\nimport { WalletComponent } from \"./wallet/wallet.component\";\n\nconst routes: Routes = [\n  {\n    path: \":slug\",\n    component: WalletComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserWalletRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\n\nimport { UserWalletRoutingModule } from \"./user-wallet-routing.module\";\nimport { WalletComponent } from \"./wallet/wallet.component\";\nimport { WalletService } from \"./wallet.service\";\nimport { HTTP_INTERCEPTORS } from \"@angular/common/http\";\nimport { TokenInterceptorService } from \"../../auth/token-interceptor.service\";\nimport { EllipsisPipe } from \"../../common/ellipsis-pipe\";\n\n@NgModule({\n  imports: [CommonModule, UserWalletRoutingModule],\n  declarations: [WalletComponent],\n  providers: [\n    WalletService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: TokenInterceptorService,\n      multi: true,\n    },\n  ],\n  exports: [WalletComponent],\n})\nexport class UserWalletModule {}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\nimport { TokenInterceptorService } from '../../auth/token-interceptor.service';\nimport { Router } from '@angular/router';\n\n@Injectable()\nexport class WalletService extends TokenInterceptorService {\n  private static BASE_API_URL = '';\n\n  constructor(\n    private _http: HttpClient\n  ) {\n    super();\n    WalletService.BASE_API_URL = environment.auth_target;\n  }\n\n  getWalletBalance() {\n    return this._http.get(`${WalletService.BASE_API_URL}/user/wallet/balance`);\n  }\n\n  getWalletLog() {\n    return this._http.get(`${WalletService.BASE_API_URL}/user/wallet/log`);\n  }\n\n  setLocalStorage(key: string, value: string) {\n    localStorage.setItem(key, value);\n  }\n\n}\n","\nimport { forkJoin as observableForkJoin, Observable } from 'rxjs';\nimport { Component, OnInit, HostBinding, HostListener } from '@angular/core';\nimport { AuthService } from '../../../auth/auth.service';\nimport { PlatformLocation } from '@angular/common';\nimport { BreadCrumbService } from '../../../auth/breadcrumb.service';\n\n\n@Component({\n  selector: 'app-wallet',\n  templateUrl: './wallet.component.html',\n  styleUrls: ['./wallet.component.scss']\n})\nexport class WalletComponent implements OnInit {\n  @HostBinding('class') WalletComponentClass = 'app-wallet';\n\n  walletBalance: any;\n  walletRedeem: any;\n  walletLog: any;\n  offset = 0;\n  mobileView = false;\n  limit = 10;\n  walletCount: any;\n  ex: any = '';\n  puzzles: any;\n  examples: any;\n  response: any;\n\n  constructor(\n    private _walletService: AuthService,\n    location: PlatformLocation,\n    private _breadCrumb: BreadCrumbService\n  ) {\n\n  }\n\n  ngOnInit() {\n    // this._breadCrumb.puzzleBreadCrumb(0);\n    // this._breadCrumb.levelSelectorBreadcrumb(0);\n    // this._breadCrumb.exampleBreadCrumb(0);\n    // this._breadCrumb.episodeBreadCrumb(0);\n    // this._breadCrumb.updatedWallet(0);\n    this.mobileView = window.innerWidth < 800;\n    const data = {\n      offset: this.offset,\n      limit: this.limit\n    };\n    observableForkJoin(this._walletService.getWalletBalance(), this._walletService.getWalletLog(data)).subscribe(\n      (res: any) => {\n        this.walletBalance = res[0].data.wallet_amount ? res[0].data.wallet_amount : 0;\n        this.walletRedeem = res[0].data.wallet_points ? res[0].data.wallet_points : 0;\n        this.walletLog = res[1].data.log.length > 0 ? res[1].data.log : null;\n        this.walletCount = res[1].data.count;\n        // console.log(this.walletLog,\"walletlog\")\n      }\n    );\n\n    this._walletService.getWalletBalance().subscribe(\n      (res: any) => {\n        // console.log(res)\n        this.walletBalance = res.data.wallet_amount ? res.data.wallet_amount : 0;\n        this.walletRedeem = res.data.wallet_points ? res.data.wallet_points : 0;\n      }\n    );\n\n\n    this._walletService.getWalletLog(data).subscribe(\n      (res: any) => {\n        // console.log(res)\n      });\n  }\n\n  getWallet() {\n    const data = {\n      offset: this.offset,\n      limit: this.limit\n    };\n    this._walletService.getWalletLog(data).subscribe(\n      (res: any) => {\n        // console.log(res);\n        this.walletLog = res.data.log;\n        this.walletCount = res.data.count;\n      });\n  }\n\n  previous() {\n    this.offset -= this.limit;\n    this.getWallet();\n  }\n\n  next() {\n\n    this.offset += this.limit;\n    this.getWallet();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.mobileView = window.innerWidth < 800;\n  }\n\n}\n","<div class=\"wallet_container\">\n\n  <div class=\"wallet_highlight_section\">\n    <!-- <div class=\"wallet_value\">\n      <img src=\"assets/wallet/wallet.svg\">\n      <span>\n        <p class=\"balance_value\">{{walletBalance | number : '.0'}}</p>\n        <p class=\"balance_sub_text\">Your Wallet balance</p>\n      </span>\n    </div> -->\n    <div class=\"wallet_value\">\n      <img src=\"assets/wallet/redeem.svg\">\n      <span>\n        <p class=\"balance_value\">{{walletRedeem | number : '.0'}}</p>\n        <p class=\"balance_sub_text\">Your Scholarship Points</p>\n      </span>\n    </div>\n  </div>\n\n  <div class=\"transaction_table_section\" (window:resize)=\"onResize($event)\">\n    <table *ngIf=\"walletLog && !mobileView\">\n      <tr>\n          <th>Product Name</th>\n          <th>Description</th>\n          <th>Points</th>\n        <th>Date</th>\n        <th>Expiry</th>\n      </tr>\n      <tr *ngFor=\"let log of walletLog\">\n          <td style=\"width:30%;\"><span>{{log.product_name}}</span></td>\n          <td style=\"width:30%;\">{{log.purpose}}</td>\n          <td style=\"padding-bottom:0px;\"><p [ngClass]=\"{'positive' : log?.tran_wallet_points>0 , 'negative' : log?.tran_wallet_points<0}\"><span *ngIf=\"log?.tran_wallet_points>0\">+</span>{{log?.tran_wallet_points}}</p></td>\n\n        <td>{{log.tran_date | date}}</td>\n        <!--  -->\n        <td><span *ngIf=\"log?.expiry_date\">{{log.expiry_date | date}}</span></td>\n      </tr>\n    </table>\n\n    <table *ngIf=\"walletLog && mobileView\" [ngClass]=\"{'wallet_mobile': mobileView}\">\n      <tr *ngFor=\"let log of walletLog\">\n        <div class=\"multi_data_row\">\n          <span>\n            <p class=\"row_heading\">Date</p>\n            <p class=\"row_heading\">Points</p>\n          </span>\n          <span>\n            <p class=\"row_data\">{{log.tran_date | date}} </p>\n            <td ><span *ngIf=\"log?.tran_wallet_points>0\">+</span>{{log?.tran_wallet_points}}</td>\n          </span>\n        </div>\n        <th>Expiry</th>\n        <td><span *ngIf=\"log?.expiry_date\">{{log.expiry_date | date }}</span></td>\n        <th>Description</th>\n        <td>{{log.purpose}}</td>\n      </tr>\n    </table>\n\n    <div class=\"no_wallet_record\" *ngIf=\"!walletLog\">\n      <p>No records found</p>\n    </div>\n\n    <div class=\"pagination\" *ngIf=\"this.walletCount>10\">\n      <button type=\"button\" [disabled]=\"this.offset==0\"  [ngClass]=\"{'disabled_button' : this.offset==0}\" (click)=\"previous()\">Previous</button>\n      <button type=\"button\"  [disabled]=\"walletLog.length<10\" [ngClass]=\"{'disabled_button' : walletLog.length<10}\" (click)=\"next()\">Next</button>\n    </div>\n  </div>\n\n</div>"],"sourceRoot":"webpack:///"}