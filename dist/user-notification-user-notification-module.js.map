{"version":3,"sources":["./src/app/user/user-notification/notification.service.ts","./src/app/user/user-notification/notification/notification.component.ts","./src/app/user/user-notification/notification/notification.component.html","./src/app/user/user-notification/user-notification-routing.module.ts","./src/app/user/user-notification/user-notification.module.ts"],"names":[],"mappings":"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","file":"user-notification-user-notification-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\nimport { TokenInterceptorService } from '../../auth/token-interceptor.service';\n\n@Injectable()\nexport class NotificationService extends TokenInterceptorService {\n  private static BASE_API_URL = '';\n\n  constructor(\n    private _http: HttpClient\n  ) {\n    super();\n    NotificationService.BASE_API_URL = environment.auth_target;\n  }\n\n}\n","import {\n  Component,\n  HostBinding,\n  HostListener,\n  AfterViewInit,\n  OnInit\n} from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../auth/auth.service';\nimport { BreadCrumbService } from '../../../auth/breadcrumb.service';\n@Component({\n  selector: 'app-notification',\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.scss']\n})\nexport class NotificationComponent implements OnInit {\n  userNotification: any;\n  userCount: any;\n  userCountArray = [];\n  userCounting = [];\n  unseenCount: any;\n  pageList = [];\n  pageNumber: number;\n  usersCount = 10;\n  currentPage = 1;\n  offset = 0;\n  unseen:any;\n  @HostBinding('class') notificationComponentClass = 'app-notification';\n  constructor(private _activatedRoute: ActivatedRoute,\n    private _auth: AuthService,\n    private _breadCrumb: BreadCrumbService,\n    private _router: Router\n  ) { }\n\n  ngOnInit() {\n    this._breadCrumb.updatedNotification(0);\n    if (this.isUserLoggedIn) {\n      this.getNotification();\n    }\n\n\n  }\n\n  getNotification() {\n\n    const datas = {\n      limit: this.usersCount,\n      offset: (this.usersCount * (this.currentPage - 1))\n    }\n    this._auth.getNotification(datas).subscribe((res: any) => {\n      this.userNotification = res.data.notification;\n      this.userCount = res.data.count;\n      this.unseenCount=res.data.unseen;\n      this.getPagination();\n      for (let i = 0; i < this.userNotification.length; i++) {\n        if (this.userNotification[i].is_seen == false) {\n          this.userCounting = this.userNotification[i]._id;\n          this.userCountArray.push(this.userCounting)\n        }\n      }\n    })\n  }\n\n  isUserLoggedIn() {\n    return this._auth.isUserLoggedIn();\n  }\n\n  gotoPage(pageNumber: any) {\n    this.currentPage = pageNumber;\n    this.getNotification();\n  }\n\n  updateNotification() {\n    const data = {\n      // notificationId: this.userCountArray,\n      isMarkAllRead:true\n    }\n    this._auth.updateNotification(data).subscribe((res: any) => {\n      this.unseenCount = res.data.unseen;\n    })\n    this.getNotification();\n  }\n\n  getPagination() {\n    this.pageList = [];\n    this.pageNumber = Math.ceil(this.userCount / this.usersCount);\n    for (let i = 1; i <= this.pageNumber; i++) {\n      this.pageList.push(i);\n    }\n  }\n}\n","<div class=\"app-notification\">\n  <div class=\"notification_row\">\n    <p class=\"recent\">Recent Notifications</p>\n\n    <p (click)=\"updateNotification()\" class=\"markAll\" *ngIf=\"unseenCount!=0\">Mark all as read</p>\n  </div>\n  <div class=\"notification_section\" *ngIf=\"userNotification?.length!=0\">\n    <div class=\"notification_value row\" *ngFor=\"let notification of userNotification\"\n      [ngClass]=\"{'unread': notification?.is_seen==false}\">\n      <div class=\"img\">\n        <img src={{notification?.img_url}} class=\"image\">\n      </div>\n      <div class=\"notification\">\n        <p>{{notification?.message}}<br><span>{{notification?.author}}</span></p>\n      </div>\n      <div class=\"time\">\n        <p><i class=\"material-icons\" style=\"font-size: 12px;line-height: 1;font-weight: bold;padding-right: 4px\">\n            schedule\n          </i><small class=\"date\">{{notification?.created_at | date}}</small><br><small\n            style=\"font-size: 12px;padding-left: 20px;font-weight: 600;letter-spacing: 1px;color:#595959;\">{{notification?.created_at | date: 'h:mm aa'}}</small>\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"notification_section\" *ngIf=\"userNotification?.length==0\">\n    <p style=\"font-size: 20px;padding: 15px;text-align: center;\">You have no notifications!</p>\n  </div>\n\n  <div class=\"pagination\" *ngIf=\"userNotification?.length!=0\">\n    <div *ngFor='let page of pageList'>\n      <span id=\"{{page.number}}\" (click)=\"gotoPage(page)\"\n        [ngClass]=\"{'active_page': page == currentPage}\">{{page}}</span>\n    </div>\n  </div>\n</div>\n","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { NotificationComponent }         from './notification/notification.component';\n\nconst routes: Routes = [\n  {\n    path: ':slug',\n    component: NotificationComponent\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class UserNotificationRoutingModule {\n\n}\n","import { NgModule }     from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NotificationComponent }      from './notification/notification.component';\nimport { UserNotificationRoutingModule }  from './user-notification-routing.module';\nimport { AuthService } from '../../auth/auth.service';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { TokenInterceptorService } from '../../auth/token-interceptor.service';\nimport { NotificationService } from './notification.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UserNotificationRoutingModule\n  ],\n  declarations: [\n    NotificationComponent\n  ],\n  providers:[\n    NotificationService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: TokenInterceptorService,\n      multi: true\n    }\n  ],\n  exports: [\n    NotificationComponent,\n  ]\n})\nexport class UserNotificationModule {\n  \n}\n"],"sourceRoot":"webpack:///"}