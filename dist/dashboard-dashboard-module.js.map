{"version":3,"sources":["./src/app/user/dashboard/dashboard-routing.module.ts","./src/app/user/dashboard/dashboard.module.ts","./src/app/user/dashboard/user-dashboard/user-dashboard.component.ts","./src/app/user/dashboard/user-dashboard/user-dashboard.component.html"],"names":[],"mappings":"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","file":"dashboard-dashboard-module.js","sourcesContent":["import { NgModule }               from '@angular/core';\r\nimport { RouterModule, Routes }   from '@angular/router';\r\nimport { UserDashboardComponent } from './user-dashboard/user-dashboard.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: ':slug',\r\n    component: UserDashboardComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ]\r\n})\r\nexport class DashboardRoutingModule {\r\n\r\n}\r\n","import { NgModule              , NO_ERRORS_SCHEMA } from '@angular/core'                            ;\r\nimport { CommonModule                             } from '@angular/common'                          ;\r\nimport { DashboardRoutingModule                   } from './dashboard-routing.module'               ;\r\nimport { UserDashboardComponent                   } from './user-dashboard/user-dashboard.component';\r\nimport { AppMaterialModule                        } from '../../app-material-module'                ;\r\nimport { AppBootstrapModule                       } from '../../app-bootstrap.module'               ;\r\nimport { AppCommonModule                          } from '../../app-common/app-common.module'       ;\r\nimport { ProfileModule                            } from '../profile/profile.module'                ;\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    AppMaterialModule,\r\n    AppBootstrapModule,\r\n    DashboardRoutingModule,\r\n    AppCommonModule,\r\n    ProfileModule\r\n  ],\r\n  declarations: [\r\n    UserDashboardComponent\r\n  ],\r\n  schemas: [NO_ERRORS_SCHEMA],\r\n  entryComponents: []\r\n})\r\nexport class DashboardModule {}\r\n","import { forkJoin as observableForkJoin } from \"rxjs\";\r\nimport { Component, HostBinding, OnInit } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { AuthService } from \"../../../auth/auth.service\";\r\nimport * as _ from \"lodash\";\r\nimport { MatBottomSheet, MatBottomSheetConfig } from \"@angular/material/bottom-sheet\";\nimport { MatDialog, MatDialogConfig } from \"@angular/material/dialog\";\r\nimport { CurrentPasswordsComponent } from \"../../../current-passwords/current-passwords.component\";\r\nimport { PuzzleOfTheDayComponent } from \"../../../app-common/puzzle-of-the-day/puzzle-of-the-day.component\";\r\nimport { MobileOtpVerificationComponent } from '../../../app-common/mobile-otp-verification/mobile-otp-verification.component';\r\n\r\n@Component({\r\n  selector: \"app-user-dashboard\",\r\n  templateUrl: \"./user-dashboard.component.html\",\r\n})\r\nexport class UserDashboardComponent implements OnInit {\r\n  @HostBinding(\"class\")\r\n  userDashboardComponentClass = \"app-user-dashboard\";\r\n\r\n  idUserId: any;\r\n  stack: any = null;\r\n  catalogProduct: any;\r\n\r\n  mobileNumberToVerify: string;\r\n  mobileCountryCodeToVerify: string;\r\n  imageBoxURL: string = null;\r\n  dataReceived: boolean;\r\n  showInterestPopup = false;\r\n\r\n  userInterests = [];\r\n\r\n  showVerifyMobileDialog = false;\r\n  isLoading = false;\r\n  showErrorDiv = false;\r\n  err: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private _authService: AuthService,\r\n    private _puzzleOfTheDayContainer: MatBottomSheet,\r\n    public dialog: MatDialog\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n\r\n    if (document.getElementsByClassName('cdk-overlay-container')[0]) {\r\n      document.getElementsByClassName('cdk-overlay-container')[0].setAttribute('style', 'z-index: 0 !important');\r\n    }\r\n\r\n    // first make call to verify if user have to show interest pop up or not\r\n    this._authService.getUserInterest().subscribe((interestRes: any) => {\r\n      const tempInterest = _.cloneDeep(interestRes);\r\n\r\n      if (parseInt(tempInterest.data.count) === 0) {\r\n        tempInterest.data.interests.forEach(interest => {\r\n          interest.isSelected = false;\r\n        });\r\n\r\n        this.userInterests = tempInterest.data.interests;\r\n        this.showInterestPopup = true;\r\n      } else {\r\n        this.showInterestPopup = false;\r\n\r\n        this.idUserId = localStorage.getItem(\"id\");\r\n\r\n        this.mobileCountryCodeToVerify = localStorage.getItem(\"mobile_country_code\");\r\n        this.mobileNumberToVerify = this.removeCountryCodeFromMobile(localStorage.getItem(\"mobile\"), localStorage.getItem(\"mobile_country_code\"));\r\n\r\n        if (localStorage.getItem(\"is_mobile_verified\") === \"0\") {\r\n          this.showVerifyMobileDialog = true;\r\n\r\n\r\n          const dialogRef = this.dialog.open(MobileOtpVerificationComponent, {\r\n            width: window.innerWidth < 630 ? '86%' : '36em',\r\n            height: window.innerHeight < 800 ? '70%' : '30em',\r\n            autoFocus: false,\r\n            data: {\r\n              askForMobileNumber: true,\r\n              userId: this.idUserId,\r\n              mobileNumber: this.mobileNumberToVerify,\r\n              mobileCountryCode: this.mobileCountryCodeToVerify\r\n            }\r\n          });\r\n\r\n          dialogRef.componentInstance.result.subscribe(() => {\r\n            dialogRef.close();\r\n          });\r\n        }\r\n\r\n        if (localStorage.getItem(\"resetPassword\") === \"0\") {\r\n          this.openResetPasswordModal();\r\n        }\r\n      }\r\n    });\r\n\r\n    // this._authService.getRecommendedProduct({\r\n    //   productType: 4\r\n    // }).subscribe(\r\n    //   (res: any) => {\r\n    //     console.log(res);\r\n    //   }\r\n    // );\r\n\r\n    const services = [this._authService.getUpcomingUserDashboard()];\r\n\r\n    if (this.isSchoolUser()) {\r\n      services.push(this._authService.getSchoolDetails());\r\n    }\r\n\r\n    observableForkJoin(services).subscribe((res: any) => {\r\n      const productList = res[0].data.productList;\r\n\r\n      this.catalogProduct = productList;\r\n      this.dataReceived = true;\r\n\r\n      let flag = 0;\r\n      for (let i = 0; i < this.catalogProduct.length; i++) {\r\n        if (this.catalogProduct[i].products.length === 0) {\r\n          flag++;\r\n        }\r\n      }\r\n\r\n      this.showErrorDiv = flag === this.catalogProduct.length;\r\n\r\n      if (this.isSchoolUser()) {\r\n        const school = res[1].data.school;\r\n        this.imageBoxURL = school.banner_image;\r\n      }\r\n    });\r\n    \r\n    if (!this._authService.isUserLoggedIn()) {\r\n      this.router.navigateByUrl(\"/\");\r\n    }\r\n\r\n    this.openPuzzleOfTheDayContainer();\r\n  }\r\n\r\n  openPuzzleOfTheDayContainer() {\r\n    if (localStorage.getItem(\"puzzle_opened\") === \"true\") {\r\n      this._authService\r\n        .getPuzzleOfTheDay({\r\n          userId: localStorage.getItem(\"id\"),\r\n        })\r\n        .subscribe(res => {\r\n          localStorage.setItem(\"puzzle_opened\", \"false\");\r\n          if (res.data.puzzle !== undefined) {\r\n            const config: MatBottomSheetConfig = {\r\n              ariaLabel: null,\r\n              autoFocus: false,\r\n              panelClass: \"bottom__sheet__for__puzzle__of__the__day\",\r\n              disableClose: true,\r\n              hasBackdrop: false,\r\n              data: {\r\n                puzzleResponse: res,\r\n                showPuzzle: !res.data.puzzle.gameFinished,\r\n              },\r\n            };\r\n            this._puzzleOfTheDayContainer.open(PuzzleOfTheDayComponent, config);\r\n          }\r\n\r\n          // }\r\n        });\r\n    }\r\n  }\r\n\r\n  registerUserInterests(userInterestIds: Array<number>) {\r\n    if (userInterestIds.length > 0) {\r\n      // save these ids to user interest table\r\n      const data = {\r\n        interest_id: userInterestIds,\r\n      };\r\n      this._authService.showInterest(data).subscribe((res: any) => {\r\n        // console.log(res);\r\n        this.showInterestPopup = false;\r\n      });\r\n    } else {\r\n      // this.err=\"minimum 5 interests select\";\r\n    }\r\n  }\r\n\r\n  openResetPasswordModal() {\r\n    const config = new MatDialogConfig();\r\n    config.height = \"auto\";\r\n    config.width = window.innerWidth > 750 ? \"45%\" : \"80%\";\r\n    config.autoFocus = false;\r\n\r\n    const dialogRef = this.dialog.open(CurrentPasswordsComponent, config);\r\n\r\n    dialogRef.afterClosed().subscribe(() => {});\r\n  }\r\n\r\n  mobileVersion() {\r\n    return window.innerWidth < 700;\r\n  }\r\n\r\n  isSchoolUser() {\r\n    let status = false;\r\n    const schoolId = 15;\r\n\r\n    for (\r\n      let i = 0;\r\n      i < localStorage.getItem(\"role_id\").split(\",\").length;\r\n      i++\r\n    ) {\r\n      status =\r\n        Number(localStorage.getItem(\"role_id\").split(\",\")[i]) === schoolId;\r\n      if (status) {\r\n        return true;\r\n      }\r\n    }\r\n    return status;\r\n  }\r\n\r\n  removeCountryCodeFromMobile(mobile: any, code: any) {\r\n    return mobile.length > 10 ? mobile.slice(code.length, mobile.length) : mobile;\r\n  }\r\n}\r\n","<div class=\"image-box\" *ngIf=\"imageBoxURL\">\r\n  <img src=\"{{imageBoxURL}}\">\r\n</div>\r\n\r\n<app-show-interest\r\n  *ngIf=\"showInterestPopup\"\r\n  [userInterests]=\"userInterests\"\r\n  (userSelectedInterestsEmitter)=\"registerUserInterests($event,err)\"\r\n\r\n></app-show-interest>\r\n\r\n<div class=\"main_container\" *ngFor=\"let catalog of catalogProduct\">\r\n  <div class=\"user_dashboard_container\" *ngIf=\"catalog.products.length > 0\">\r\n    <p class=\"chip-heading\" *ngIf=\"catalog?.title!=='121 Room'\">Upcoming {{catalog.title}}</p>\r\n    <p class=\"chip-heading\" *ngIf=\"catalog?.title==='121 Room'\">{{catalog.title}} Available</p>\r\n\r\n    <div class=\"loader\" *ngIf=\"!dataReceived\">\r\n      <mat-spinner></mat-spinner>\r\n    </div>\r\n    <div class=\"webinar_cards\" *ngIf=\"dataReceived || catalog?.products > 0 \">\r\n      <app-card\r\n        *ngFor=\"let dashboardCard of catalog.products; let i=index;\"\r\n        [cardData]=\"dashboardCard\"\r\n        [mobileView]=\"mobileVersion()\"\r\n        [index]=\"i\"\r\n        [hover]=\"true\"\r\n      ></app-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- <div class=\"recommended_container\">\r\n  <p class=\"chip-heading\">Recommended Products</p>\r\n  <div class=\"recommended_card\">\r\n  </div>\r\n</div> -->\r\n\r\n<div class=\"no_data_recieved_message\" *ngIf=\"showErrorDiv\">\r\n  <mat-icon>error</mat-icon>\r\n  <p>No Products found</p>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}